var $gameArea=$(".gameArea"),checkWin=!1,game={gameArray:[],winner:0,player:"player1",count:0,gameSize:0,player1Score:0,player2Score:0,gameRounds:0},createRow=function(){for(var e=[],a=" ",r=0;r<game.gameSize;r++)e[r]=a;return e},gameBoard=function(e){game.gameSize=Math.sqrt(e),game.count=e;for(var a=0;a<game.gameSize;a++)game.gameArray[a]=createRow();return appendToDom(game.gameArray)},gridMath=function(){return 3===game.gameSize?100/3:4===game.gameSize?25:5===game.gameSize?20:6===game.gameSize?100/6:void 0},chainingElements=function(e,a,r){var n=$("<div>").addClass("gameButton").css("width",r+"%").css("padding-top",r+"%"),g=$("<div>").addClass("first"),m=$("<div>").addClass("second").data("values",e+""+a);return n.append(g.append(m))},appendToDom=function(e){for(var a=gridMath().toString(),r=0;r<game.gameSize;r++)for(var n=0;n<game.gameSize;n++)$gameArea.append(chainingElements(r,n,a))},gameReset=function(e){$(".gameButton").remove(),game.gameArray=[],game.winner=0,game.player="player1",game.columnArray=[],game.diagonalArray=[],checkWin=!1,$("#winnerText").text("Player 1 Start"),gameBoard(e)};$(".buttonHolder").on("click",function(e){var a=e.target.id;"grid3"===a?gameReset(9):"grid4"===a?gameReset(16):"grid5"===a?gameReset(25):"grid6"===a?gameReset(36):"resetGame"===a&&gameReset(9)});var editGameArray=function(e,a){game.gameArray[Number(e[0])][Number(e[1])]=a};gameBoard(9),$(".gameArea").on("click",function(e){var a=$(e.target).data("values").split(""),r=game.gameArray[a[0]][a[1]],n=$("<img>").attr("src","images/rasengan.jpg").addClass("animateSpinRasengan"),g=$("<img>").attr("src","images/chidori.gif").addClass("animateSpinSharingan");game.count>0&&("player1"===game.player&&0===game.winner&&" "===r?(checkWin=checkForWinner("X"),checkWin||(game.count--,$(e.target).append(n),game.player="player2",$("#winnerText").text("Player 2 Turn"),editGameArray(a,"X"),checkForWinner("X"))):"player2"===game.player&&0===game.winner&&" "===r&&(checkWin=checkForWinner("O"),checkWin||(game.count--,$(e.target).append(g),game.player="player1",$("#winnerText").text("Player 1 Turn"),editGameArray(a,"O"),checkForWinner("O"))))});